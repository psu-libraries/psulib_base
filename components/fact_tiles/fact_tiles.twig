{% set tile_heading_level = title ? 'h2' : 'h3' %}

<div class="fact-tiles text-white bg-primary">
  {# Header: Title and Body #}
  {% if title or body|render is not empty %}
    <div class="fact-tiles__header row">
      <div class="col-12 col-md-10 offset-md-1 col-lg-8 offset-lg-2">
        {% if title %}
          {% include 'psulib_base:heading' with {
            content: title,
            heading_html_tag: 'h2',
            heading_utility_classes: ['fact-tiles__heading'],
          } only %}
        {% endif %}

        {% if body|render is not empty %}
          <div class="fact-tiles__description">
            {{ body }}
          </div>
        {% endif %}
      </div>
    </div>
  {% endif %}

  {# Tiles #}
  <div class="fact-tiles__tiles">
    {% block tiles %}
      {% if tiles %}
        {{ tiles }}
      {% else %}
        {% for item in items %}
          <div class="fact-tiles__tile">
            <{{ tile_heading_level }} class="fact-tiles__tile-stat">{{ item.stat }}</{{ tile_heading_level }}>
            {% include 'psulib_base:divider' with {color: 'white', width: 'md', thickness: 'sm' } only %}
            <div class="fact-tiles__tile-title">{{ item.title }}</div>
            {% if item.description %}
              <div class="fact-tiles__tile-description">{{ item.description }}</div>
            {% endif %}
          </div>
          {% if not loop.last%}
            {% include 'psulib_base:divider' with {color: 'pugh', width: 'full', thickness: 'sm', orientation: 'vertical-lg' } only %}
          {% endif %}
        {% endfor %}
      {% endif %}
    {% endblock %}
  </div>

  {% if cta_button %}
    <div class="fact-tiles__cta">
      {% if cta_button_render|render %}
        {{ cta_button_render }}
      {% elseif cta_button %}
        {%
          include 'psulib_base:button' with {
            button_html_tag: 'a',
            url: cta_button.url,
            color: 'secondary',
            content: cta_button.title,
            button_utility_classes: [],
          }
        %}
      {% endif %}
    </div>

  {% endif %}

</div>
